<?xml version="1.0"?>
<!--
/**
 * Copyright 2016 Resurs Bank AB
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
-->
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Config:etc/system_file.xsd">
    <system>
        <section id="payment">
            <group id="resursbank_section" sortOrder="0" showInDefault="1" showInWebsite="1" showInStore="0">
                <label>Resurs Bank</label>
                <group id="resursbank" type="text" sortOrder="6" showInDefault="1" showInWebsite="1" showInStore="1" translate="label">
                    <fieldset_css>complex resursbank-section</fieldset_css>
                    <frontend_model>Magento\Paypal\Block\Adminhtml\System\Config\Fieldset\Payment</frontend_model>
                    <label>Payments</label>
                    
                    <field id="version" translate="label" sortOrder="0" showInDefault="1" showInWebsite="1" showInStore="1">
                        <label>Version</label>
                        <frontend_model>Resursbank\Core\Block\Adminhtml\System\Config\Version</frontend_model>
                    </field>

                    <group id="api" type="text" translate="label" sortOrder="20" showInDefault="1" showInWebsite="1" showInStore="0">
                        <label>Resurs Bank API</label>
                        <field id="flow" translate="label" type="select" sortOrder="0" showInDefault="1" showInWebsite="1" showInStore="1">
                            <label>Checkout type</label>
                            <source_model>Resursbank\Core\Model\Config\Source\Flow</source_model>
                        </field>
                        <field id="environment" translate="label" type="select" sortOrder="1" showInDefault="1" showInWebsite="1" showInStore="1">
                            <label>Environment</label>
                            <source_model>Resursbank\Core\Model\Config\Source\Environment</source_model>
                        </field>
                        <field id="username_test" translate="label" type="text" sortOrder="2" showInDefault="1" showInWebsite="1" showInStore="1">
                            <label>Username</label>
                            <depends><field id="environment">test</field></depends>
                        </field>
                        <field id="password_test" translate="label" type="password" sortOrder="3" showInDefault="1" showInWebsite="1" showInStore="1">
                            <label>Password</label>
                            <depends><field id="environment">test</field></depends>
                        </field>
                        <field id="username_production" translate="label" type="text" sortOrder="2" showInDefault="1" showInWebsite="1" showInStore="1">
                            <label>Username</label>
                            <depends><field id="environment">production</field></depends>
                        </field>
                        <field id="password_production" translate="label" type="password" sortOrder="3" showInDefault="1" showInWebsite="1" showInStore="1">
                            <label>Password</label>
                            <depends><field id="environment">production</field></depends>
                        </field>
                        <field id="country" translate="label" type="select" sortOrder="4" showInDefault="1" showInWebsite="1" showInStore="1">
                            <label>Country</label>
                            <source_model>Resursbank\Core\Model\Config\Source\Country</source_model>
                        </field>
                        <field id="unit_measure" translate="label" type="text" sortOrder="5" showInDefault="1" showInWebsite="1" showInStore="1">
                            <label>Unit Measure</label>
                        </field>
                        <field id="debug" translate="label, comment" type="select" sortOrder="6" showInDefault="1" showInWebsite="1" showInStore="1">
                            <label>Debug enabled</label>
                            <comment>Log entries will be stored in var/log/resursbank_*.log (different log files are used for various operations).</comment>
                            <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                        </field>
                    </group>
                </group>
            </group>
        </section>
    </system>
</config>

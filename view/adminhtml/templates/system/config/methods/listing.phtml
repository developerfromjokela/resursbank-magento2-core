<?php
/**
 * Copyright Â© Resurs Bank AB. All rights reserved.
 * See LICENSE for license details.
 */

declare(strict_types=1);

use Magento\Framework\Escaper;
use Resursbank\Core\Block\Adminhtml\System\Config\Methods\Listing;

/** @var Listing $block */
/** @var Escaper $escaper */

if (isset($block)) {
    $methods = $block->getMethods();
}
?>

<?php if (isset($escaper, $block)): ?>
    <?php if (!empty($methods)): ?>
        <table id="rb-methods">
            <thead>
                <tr>
                    <th>
                        <?= $block->escapeHtml(__('Name')) ?>
                    </th>
                    <th>
                        <?= $block->escapeHtml(__('Min total')) ?>
                    </th>
                    <th>
                        <?= $block->escapeHtml(__('Max total')) ?>
                    </th>
                    <th>
                        <?= $block->escapeHtml(__('Sort order')) ?>
                    </th>
                </tr>
            </thead>
            <tbody>
                <?php foreach ($methods as $method): ?>
                <tr>
                    <td>
                        <?= $block->escapeHtml($method->getTitle()) ?>
                    </td>
                    <td>
                        <?= $block->escapeHtml($block->getOrderMinTotal($method)) ?>
                    </td>
                    <td>
                        <?= $block->escapeHtml($block->getOrderMaxTotal($method)) ?>
                    </td>
                    <td>
                        <?= $block->escapeHtml($method->getSortOrder()) ?>
                    </td>
                </tr>
                <?php endforeach; ?>
            </tbody>
        </table>
    <?php else: ?>
        <?= $block->escapeHtml(__('Payment methods will be displayed when synced.')) ?>
    <?php endif; ?>
<?php endif; ?>
